/*───────────────────────────────────────────────────────────────
  PELAGICA  ‣  ONE-PAGE STYLE SHEET
────────────────────────────────────────────────────────────────*/

/* ==========  0. DESIGN TOKENS  ================================= */
:root{
  --glass-bg : rgba(98, 112, 156,0.4);
  --glass-brd: 1px solid rgba(255,255,255,.18);
  --text-light: #fff;
  --text-dark : #000;
  --grad-1: #bfe4ff;
  --grad-2: #7ab3ff;
  --grad-3: #316fd1;
  --grad-4: #0b2d75;
  --grad-5: #000c28;
  --scroll-thumb: rgba(255,255,255,.25);
  --blur-sm : blur(4px);
  --blur-md : blur(6px);
}

/* ==========  1. GLOBAL ELEMENTS  ============================== */
html,body{ height:100%; }
body{
  margin:0;
  font-family:"Inter",sans-serif;
  color:var(--text-light);
  background:linear-gradient(to bottom,
              var(--grad-2) 0%,
              var(--grad-3) 25%,
              var(--grad-4) 70%,
              var(--grad-5) 100%);
  background-attachment:fixed;
}

/* Dash container max-width */
.container-fluid{ max-width:1600px; }

h6,
.h6 {                     
  color: #fff !important;  
}

h5,
.h5 {                     
  color: #fff !important;  
}

/* ==========  2. TOP BAR & LOGO  =============================== */
#top-bar{
  position:relative;
  display:flex;
  justify-content:center;
  align-items:center;
  padding-top:1.25rem;           /* clears search-panel radius */
}
#logo{
  font-size:2.5rem;
  font-weight:700;
  letter-spacing:.05em;
}

/* ==========  3. SEARCH PANEL  (top-left)  ===================== */
#search-panel{
  position:fixed; top:10%; left:20px; z-index:1040;
  width:380px; padding:.8rem .9rem 1rem;
  border-radius:.6rem;   
  display:flex; flex-direction:column; gap:.4rem;
  background:var(--glass-bg); color:var(--text-light);
  backdrop-filter:var(--blur-md); box-shadow:0 2px 6px #0006;
}



/* arrow nudged right of search panel */
#prev-btn{ left: calc(20px + 320px + 24px); }


#search-panel .dash-dropdown,
#search-panel .dash-select {
  background: white !important;
  color: black !important;
}

/* Selected value (shown when dropdown is closed) */
#search-panel .Select-value-label,
#search-panel .Select-placeholder {
  color: black !important;
}

/* Dropdown options (shown when open) */
#search-panel .Select-menu {
  background: white !important;
  color: black !important;
}
#search-panel .Select-option {
  color: black !important;
}


#search-panel .Select-control:hover {
  border-color: #888 !important;
}



#search-stack > div {
  margin-bottom: 10px;
}




/* ==========  4. SIDE TABS  ==================================== */
/* side-tabs in gutter */
/* ==========  4. SIDE TABS  ==================================== */
.side-tab {
  position: fixed;
  writing-mode: vertical-rl;
  transform: rotate(180deg);
  background: var(--glass-bg);
  border: var(--glass-brd);
  padding: .55rem .45rem;
  font-size: .78rem;
  cursor: pointer;
  z-index: 1050;
  transition: left .3s ease, right .3s ease;
}



#citations-tab {
  right: 0;
  top: 70%;
}

#bug-tab {
  right: 0;
  top: 80%;
}





/* ==========  5. OFF-CANVAS PANELS  ============================ */
.offcanvas{
  background:var(--glass-bg)!important;
  color:var(--text-light)!important;
  border-left:var(--glass-brd);
}
.offcanvas-title,
.offcanvas-body{ color:var(--text-light)!important; }
.offcanvas-header, .offcanvas-body {
  display: flex;
  flex-direction: column;
  text-align: center;
  padding-left: 1.0rem !important;   /* ≈ 13 px */
  padding-right: 5.0rem !important;  /* ≈ 13 px */
  box-sizing: border-box;            /* ensures width stays fixed */
}



.offcanvas-header {
  padding-top: 12rem !important;
  display: flex;
  flex-direction: row; /* instead of column */
  justify-content: space-between;
  align-items: center;
  text-align: center;
  padding-left: 1rem;
  padding-right: 1rem;
}


.offcanvas-title {
  font-size: 1.2rem;
  font-weight: 600;
  flex: 1;                
  text-align: center;     
}




/* citation text wraps */
#citation-box{
  white-space:pre-wrap; word-wrap:break-word;
  color:var(--text-light); font-size:.9rem;
}

#citation-box a{ color:var(--text-light); }

/* Rounded switch styling */
.form-switch .form-check-input {
  width: 3rem;
  height: 1.5rem;
  border-radius: 1rem;
  background-color: #ccc;
  border: none;
  vertical-align: middle;
  margin-top: 0.2rem; /* tweak if necessary */
  transition: background-color 0.3s, box-shadow 0.3s;
  margin-left: auto;        /* takes up remaining space */
}



/* Optional: make it more visible when unchecked too */
.form-switch .form-check-input:focus {
  box-shadow: 0 0 0 0.2rem rgba(76, 175, 80, 0.25);
}





.form-switch.form-check {
  padding: 0 0.5rem;        /* 0.5 rem left & right */
  padding-left: 0;            /* <<< THE FIX */
  display: flex;              /* keep them side-by-side */
  align-items: center;        /* vertically centred */
  justify-content: space-between;  /* pill stays flush right */
  margin-bottom: 0.9rem;   /* tweak the 0.6rem until it feels right */
}





.form-switch .form-check-input:checked {
  background-color: #4CAF50; /* soft green */
  box-shadow: inset 0 0 0 1px #4CAF50;
}

.form-switch .form-check-label {
  display: inline-block;
  vertical-align: middle;
  line-height: 1.5rem;
  flex: 1;        /* let text wrap but don’t push pill off-screen */
  margin-bottom: 0;
  line-height: 1.5rem;
}



/* ==========  6. MAIN DISPLAY AREA  ============================ */
#page-centre-flex{
  min-height:calc(100vh - 220px);     /* header+footer buffer */
  display:flex; flex-direction:column;
  justify-content:center; align-items:center;
  text-align:center;
  margin-top: 110px;
}

/* 6-a  title slab */
#species-titles{
  display:inline-block; margin:.5rem 0 1rem;
  padding:.6rem 1.4rem .8rem;
  background:var(--glass-bg); border:var(--glass-brd);
  backdrop-filter:var(--blur-md); box-shadow:0 2px 6px #0008;
  border-radius:2rem;
}


#species-titles h1,
#species-titles h4{ margin:0; color:var(--text-light); }
#species-titles h1{ font-size:1.5rem; }
#species-titles h4{ font-weight:400; font-style:italic; }

/* 6-b  image wrapper */
#image-wrapper{
  position:relative; overflow:visible;
  width:clamp(300px,40vw,500px);
}
/* limit to 80 % of the viewport height, scale automatically */
#species-img {
  max-height: 50vh;
  height: auto;
  width: auto;
  max-width: 100%;         /* ensures it doesn't overflow horizontally */
  object-fit: contain;
  border-radius: .5rem;
  display: block;
  margin: 0 auto;          /* optional: center the image horizontally */
}



/* 6-c  info card + handle */
#info-card{
  position:absolute; top:120%; left:70%; transform:translateY(-50%);
  width:380px; max-height:150%; overflow-y:auto;
  background:var(--glass-bg); border:var(--glass-brd);
  backdrop-filter:var(--blur-md); color:var(--text-light);
  padding:.9rem 1rem; font-size:.9rem; box-shadow:0 2px 6px #0008;border-radius:.8rem;
}

#info-card a{ color:var(--text-light); }

#info-card::-webkit-scrollbar{ width:6px; }
#info-card::-webkit-scrollbar-thumb{
  background:var(--scroll-thumb); border-radius:3px;
}
#info-card{ scrollbar-color:var(--scroll-thumb) transparent; }

#info-close {
    position: absolute;top: .5rem;right: .5rem;width: 1.6rem;height: 1.6rem;display: grid;
    place-items: center;background: transparent;border-radius: 50%;color: var(--text-light);
    cursor: pointer;z-index: 2;font-weight: bold;font-size: 1.2rem;
}

#info-close:hover {
    background: rgba(255,255,255,0.1);
}



#info-handle{
  position:absolute; right:-1rem; bottom:-1rem;
  width:2rem; height:2rem; display:grid; place-items:center;
  background:var(--glass-bg); border:var(--glass-brd); border-radius:50%;
  color:var(--text-light); cursor:pointer; font-weight:600;
  backdrop-filter:var(--blur-md); box-shadow:0 2px 6px #0008;
  display:none;                /* shown/hidden via JS callback */
}

/* ==========  7. FOOTER CREDIT  ================================ */
#footer-credit{
  position:fixed; right:1rem; bottom:1rem;
  font-size:.8rem; opacity:.7;
}


/* === NAVIGATION ARROWS =================================== */
.edge-nav {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  z-index: 1030;
  background: none;
  border: none;
  font-size: 3rem;
  color: #ffffffbb;       /* slightly translucent white */
  cursor: pointer;
  padding: 0 0.5rem;
  transition: color 0.3s ease, transform 0.3s ease;
}

.edge-nav:hover {
  color: #ffffffee;        /* brighten on hover */
  transform: translateY(-50%) scale(1.1);
}

#prev-btn {
  left: 10rem;
}

#next-btn {
  right: 10rem;
}

/* Optional: fine-tune font appearance */
.edge-nav .label {
  font-size: 1rem;
  display: block;
  text-align: center;
  margin-top: 0.25rem;
  letter-spacing: 0.05em;
  opacity: 0.6;
}

.collapse-icon{
  cursor: pointer;
  transition: transform .2s;
}
#search-panel[style*="display: none"] .collapse-icon{
  transform: rotate(-90deg);   /* points right when collapsed */
}

/* --- slide tab for search panel -------------------------------- */


.search-handle{
  position: fixed;
  top: 120px;                          /* same as panel */
  left: calc(20px + 380px);           /* panel left + panel width */
  width: 22px; height: 40px;
  display: flex; align-items: center; justify-content: center;
  background: var(--glass-bg);
  border-radius: 0 .4rem .4rem 0;
  color: #fff; font-size: 1.4rem; cursor: pointer;
  z-index: 1041; transition: left .3s ease;
}
.search-handle.collapsed{
  left: 0;                            /* park at screen edge */
  border-radius: .4rem;
}

/* optional hover glow */
.search-handle:hover{ background: rgba(255,255,255,.15); }


/* when panel is open push handle to panel edge */
body.search-open .search-handle{
  left: 320px;                /* SEARCH_W */
}

.btn-outline-light {
  color: white;
  border: 1px solid white;
  background-color: transparent;
  font-weight: 400;
  padding: 0.35rem 0.7rem;
  font-size: 0.9rem;
}

/* On hover: lighter border or subtle glow */
.btn-outline-light:hover {
  color: white;
  border-color: #ccc;
  background-color: rgba(255, 255, 255, 0.1); /* optional glow */
}
